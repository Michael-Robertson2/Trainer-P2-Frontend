"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[253],{253:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var s=n(791),r=n(689),a=n(184);function i(){return(0,a.jsxs)("div",{className:"text-center pt-40",children:[(0,a.jsx)("h1",{className:"font-bold text-8xl",children:"404"}),(0,a.jsx)("h2",{className:"text-5xl",children:"Page Not Found..."})]})}n(174);function o(){var e=(0,r.s0)();return(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{className:"home-background",src:"https://media.architecturaldigest.com/photos/5d2c9e26ae81990009f6429f/16:9/w_2560%2Cc_limit/TAK%2520Room_by%2520Adrian%2520Gaut.jpg",alt:""}),(0,a.jsx)("button",{className:"welcome-to-yolp absolute bg-white px-10 py-5 font-bold text-5xl font-serif top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 hover:bg-gradient-to-r hover:from-slate-700 hover:to-cyan-700 hover:text-white hover:scale-110 ease-out duration-1000",onClick:function(){return e("/restaurants")},children:"Welcome To Yolp"})]})}var l=n(165),c=n(861),u=n(885),d=n(87),x=n(388).Z.create({baseURL:"http://yolp-env.eba-trqyyiqz.us-east-1.elasticbeanstalk.com/yolp",headers:{"Content-Type":"application/json"}}),h=n(583),f=n(144),p=n(671),m=(0,f.Z)((function e(t,n,s,r){(0,p.Z)(this,e),this.id=void 0,this.username=void 0,this.role=void 0,this.token=void 0,this.id=t,this.username=n,this.role=s,this.token=r}));function v(){var e=(0,s.useState)(""),t=(0,u.Z)(e,2),n=t[0],i=t[1],o=(0,s.useState)(""),f=(0,u.Z)(o,2),p=f[0],v=f[1],g=(0,s.useState)(""),j=(0,u.Z)(g,2),w=j[0],N=j[1],b=(0,s.useContext)(h.Wk),y=(0,r.s0)();function Z(){return(Z=(0,c.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.post("/auth",{username:n,password:p}).then((function(e){var t=new m(e.data.id,e.data.username,e.data.role,e.data.token);window.sessionStorage.setItem("auth",JSON.stringify(t)),b(t),y("/")})).catch((function(e){return N(e.response.data.message)}));case 3:i(""),v("");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.jsx)("form",{className:"flex justify-center items-center",onSubmit:function(e){return function(e){return Z.apply(this,arguments)}(e)},children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-7 shadow-xl rounded-xl mt-40 px-10 py-16",children:[(0,a.jsx)("h1",{className:"font-serif font-bold text-5xl",children:"LOGIN"}),(0,a.jsx)("input",{className:"bg-blue-100 shadow-xl rounded-md px-5 py-2 focus:scale-110 duration-300 ease-out",type:"text",placeholder:"Username",value:n,onChange:function(e){return i(e.target.value)}}),(0,a.jsx)("input",{className:"bg-blue-100 shadow-xl rounded-md px-5 py-2 focus:scale-110 duration-300 ease-out",type:"password",placeholder:"Password",value:p,onChange:function(e){return v(e.target.value)}}),w?(0,a.jsx)("p",{className:"text-red-500",children:w}):null,(0,a.jsx)("button",{className:"bg-slate-800 rounded-md text-white mt-2 px-5 py-2 ease-out duration-300 hover:scale-125",children:"LOGIN"}),(0,a.jsx)(d.rU,{to:"/signup",className:"text-blue-700 underline",children:"Create new account"})]})})}var g=n(257),j=n(982),w=n(135);function N(e){var t=e.updateRating,n=(0,s.useState)(0),r=(0,u.Z)(n,2),i=r[0],o=r[1],l=(0,s.useState)(null),c=(0,u.Z)(l,2),d=c[0],x=c[1];return(0,a.jsx)("div",{className:"flex",children:(0,j.Z)(Array(5)).map((function(e,n){var s=n+1;return(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{className:"star-radio",type:"radio",name:"rating",value:s,onClick:function(){return function(e){o(e),t(e)}(s)},required:!0}),(0,a.jsx)(w.QJe,{className:"star w-7 h-7",color:s<=(d||i)?"#ffc107":"#e4e5e9",size:100,onMouseOver:function(){return x(s)},onMouseOut:function(){return x(null)}})]})}))})}var b=n(579);function y(){var e=(0,r.UO)().id,t=(0,r.s0)(),n=(0,s.useContext)(h.Vo),i=(0,s.useState)(""),o=(0,u.Z)(i,2),d=o[0],f=o[1],p=(0,s.useState)(0),m=(0,u.Z)(p,2),v=m[0],j=m[1],w=(0,s.useState)(null),y=(0,u.Z)(w,2),Z=y[0],k=y[1],S=(0,s.useState)(null),C=(0,u.Z)(S,2),A=C[0],R=C[1];function W(){return(W=(0,c.Z)((0,l.Z)().mark((function s(){return(0,l.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,x.get("/reviews/id?id=".concat(e),{headers:{authorization:null===n||void 0===n?void 0:n.token}}).then((function(e){R(e.data)})).catch((function(e){t("/login")}));case 2:case"end":return s.stop()}}),s)})))).apply(this,arguments)}function _(){return(_=(0,c.Z)((0,l.Z)().mark((function t(){return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.get("/restaurants/id?id=".concat(e),{}).then((function(e){k(e.data)})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=(0,c.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.delete("/reviews",{data:{restaurant_id:null===Z||void 0===Z?void 0:Z.id,user_id:null===n||void 0===n?void 0:n.id}}).then((function(){window.location.reload()})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=(0,c.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.post("/reviews",{rating:v,msg:d,username:null===n||void 0===n?void 0:n.username,restaurant_id:null===Z||void 0===Z?void 0:Z.id,user_id:null===n||void 0===n?void 0:n.id}).then((function(e){window.location.reload()})).catch((function(e){var t,n;alert(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),window.location.reload()}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){!function(){W.apply(this,arguments)}(),function(){_.apply(this,arguments)}()}),[]),A?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-20",children:[(0,a.jsx)("h1",{className:"mt-40 font-bold font-serif text-7xl",children:null===Z||void 0===Z?void 0:Z.name}),(0,a.jsx)("img",{className:"rounded-lg shadow-xl",src:null===Z||void 0===Z?void 0:Z.img,alt:""}),A.length>0?(0,a.jsx)("div",{className:"grid grid-cols-3 items-center gap-20",children:A.map((function(e){return(0,a.jsxs)("ul",{className:"flex flex-col shadow-xl px-10 py-5 gap-2 rounded-xl text-white bg-slate-700 hover:bg-white hover:text-black ease-out hover:scale-110 duration-500",style:{width:"400px"},children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"User: "}),e.username]}),(0,a.jsxs)("li",{className:"flex items-center gap-1",children:[(0,a.jsx)(g.Z,{className:"w-5 text-yellow-500"}),(0,a.jsx)("p",{children:e.rating})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Review: "}),e.msg]}),e.username==(null===n||void 0===n?void 0:n.username)?(0,a.jsx)("button",{className:"text-left text-red-500 underline",onClick:function(){return function(){return O.apply(this,arguments)}()},children:"Delete review"}):null]})}))}):(0,a.jsx)("h1",{className:"font-bold font-serif text-5xl",children:"No Reviews Yet..."}),(0,a.jsxs)("form",{onSubmit:function(e){return function(e){return D.apply(this,arguments)}(e)},className:"flex flex-col items-center gap-10",children:[(0,a.jsx)("h2",{className:"font-bold font-serif text-3xl italic",children:"Leave a review"}),(0,a.jsx)(N,{updateRating:j}),(0,a.jsx)("textarea",{className:"bg-slate-100 p-5 rounded-md",placeholder:"Enter a review",cols:55,rows:5,value:d,onChange:function(e){return f(e.target.value)},required:!0}),(0,a.jsx)("button",{className:"bg-slate-700 px-10 py-4 mb-40 text-white rounded-md ease-out hover:scale-125 duration-300",children:"Submit"})]})]}):(0,a.jsx)(b.Z,{})}function Z(){var e=(0,s.useState)(null),t=(0,u.Z)(e,2),n=t[0],i=t[1],o=(0,r.s0)();function d(e){var t=0;if(e.length<1)return"No reviews yet...";for(var n=0;n<e.length;n++)t+=e[n].rating;return t/=e.length,Math.round(100*t)/100}function h(){return(h=(0,c.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/restaurants").then((function(e){i(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){!function(){h.apply(this,arguments)}()}),[]),n?(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"mt-40 font-bold text-7xl text-center",children:"Restaurants"}),(0,a.jsx)("div",{className:"grid grid-cols-3 place-items-center | mt-20",children:n.map((function(e){return(0,a.jsxs)("ul",{className:"flex flex-col items-center py-5 mb-40 w-2/3 rounded-2xl shadow-xl cursor-pointer ease-out hover:scale-125 duration-300",onClick:function(){return o("/restaurant/".concat(e.id))},children:[(0,a.jsx)("li",{children:(0,a.jsx)("img",{className:"p-10 restolist-img",src:e.img,alt:""})}),(0,a.jsx)("li",{className:"font-bold text-2xl",children:e.name}),(0,a.jsxs)("li",{className:"flex items-center gap-2 justify-center font-bold text-xl",children:[(0,a.jsx)(g.Z,{color:"#FDD017",className:"w-6"}),(0,a.jsx)("p",{children:d(e.reviews)})]})]})}))})]}):(0,a.jsx)(b.Z,{})}function k(){return(0,a.jsxs)(r.Z5,{children:[(0,a.jsx)(r.AW,{path:"/",element:(0,a.jsx)(o,{})}),(0,a.jsx)(r.AW,{path:"/login",element:(0,a.jsx)(v,{})}),(0,a.jsx)(r.AW,{path:"/restaurants",element:(0,a.jsx)(Z,{})}),(0,a.jsx)(r.AW,{path:"/restaurant/:id",element:(0,a.jsx)(y,{})}),(0,a.jsx)(r.AW,{path:"/*",element:(0,a.jsx)(i,{})})]})}}}]);
//# sourceMappingURL=253.bb42d00d.chunk.js.map